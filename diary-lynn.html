<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruang Teduh Bersama Lynn</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@500&family=Indie+Flower&display=swap" rel="stylesheet">
    <style>
        :root { --cream: #fdf6ec; --cokelat: #8d7b68; --hijau: #a9af91; --garis: #e8e0d5; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Quicksand', sans-serif; background: var(--cream); color: var(--cokelat); height: 100vh; display: flex; overflow: hidden; }

        /* Sidebar Minimalis */
        .sidebar { width: 70px; background: white; height: 100%; display: flex; flex-direction: column; align-items: center; padding-top: 40px; border-right: 1px solid #eee; z-index: 100; }
        .nav-btn { margin-bottom: 30px; cursor: pointer; font-size: 24px; opacity: 0.4; transition: 0.3s; }
        .nav-btn:hover { opacity: 1; transform: scale(1.2); }

        /* Kontainer Utama */
        .main { flex: 1; display: flex; justify-content: center; align-items: center; padding: 20px; position: relative; }
        .kertas { 
            background: white; width: 100%; max-width: 750px; height: 85vh; 
            border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.05); 
            display: flex; flex-direction: column; padding: 30px; position: relative; overflow: hidden;
        }

        /* Garis-Garis Buku */
        .area-tulis {
            flex: 1; border: none; outline: none; margin-top: 15px;
            font-family: 'Indie Flower', cursive; font-size: 21px; line-height: 35px;
            background: repeating-linear-gradient(transparent, transparent 34px, var(--garis) 35px);
            background-attachment: local; resize: none; color: #444; padding: 0 5px;
        }

        /* Judul & Sapaan */
        h1 { font-family: 'Dancing Script'; font-size: 32px; margin-bottom: 5px; }
        .sapaan-sub { font-size: 13px; color: #999; margin-bottom: 15px; }

        /* Plan Masa Depan - Aesthetic Columns */
        .grid-plan { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px; }
        .item-plan { padding: 15px; border-radius: 15px; border: 1px dashed var(--hijau); }
        .item-plan:nth-child(1) { background: #f9fbf2; } .item-plan:nth-child(2) { background: #fffcf7; }
        .item-plan:nth-child(3) { background: #f4f7f9; } .item-plan:nth-child(4) { background: #fdf4f4; }
        .item-plan h4 { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
        .item-plan textarea { width: 100%; height: 60px; border: none; background: transparent; outline: none; font-family: 'Indie Flower'; font-size: 18px; resize: none; }

        /* Rak Buku / Arsip */
        .arsip-scroll { overflow-y: auto; flex: 1; margin-top: 15px; padding-right: 10px; }
        .kartu-diary { background: #fffcf8; border-radius: 12px; padding: 15px; margin-bottom: 15px; border-left: 4px solid var(--hijau); box-shadow: 0 4px 10px rgba(0,0,0,0.02); }

        /* Musik dengan Gambar */
        .musik-box { text-align: center; margin-top: 20px; }
        .thumb-lagu { width: 100%; max-width: 250px; border-radius: 15px; margin-bottom: 15px; border: 3px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        /* Lock Screen */
        #layar-kunci { position: fixed; inset: 0; background: var(--cream); z-index: 2000; display: flex; justify-content: center; align-items: center; }
        .kotak-pin { background: white; padding: 40px; border-radius: 30px; text-align: center; width: 320px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); }
        .input-p { width: 100%; padding: 12px; margin: 20px 0; border-radius: 12px; border: 1px solid #eee; text-align: center; font-size: 18px; outline: none; }
        .wrap-p { position: relative; }
        .mata { position: absolute; right: 15px; top: 32px; cursor: pointer; }

        .btn { background: var(--hijau); color: white; border: none; padding: 10px 25px; border-radius: 20px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn:hover { opacity: 0.8; }
        
        .watermark { position: fixed; bottom: 20px; right: 25px; font-family: 'Dancing Script'; opacity: 0.4; font-size: 18px; }
        .hidden { display: none !important; }
    </style>
</head>
<body onload="muatData()">

    <div id="layar-kunci">
        <div class="kotak-pin">
            <h1>Ruang Teduh Bersama Lynn ğŸ”’</h1>
            <div id="set-box">
                <input type="password" id="pin1" class="input-p" placeholder="Buat PIN Kamu">
                <button onclick="simpanPIN()" class="btn">Mulai âœ¨</button>
            </div>
            <div id="log-box" class="hidden">
                <div class="wrap-p">
                    <input type="password" id="pin-log" class="input-p" placeholder="Masukkan PIN">
                    <span class="mata" onclick="intip()">ğŸ‘ï¸</span>
                </div>
                <button onclick="buka()" class="btn">Masuk âœ¨</button>
            </div>
        </div>
    </div>

    <div class="sidebar">
        <div class="nav-btn" onclick="tab('tulis')">ğŸ–‹ï¸</div>
        <div class="nav-btn" onclick="tab('rak')">ğŸ“–</div>
        <div class="nav-btn" onclick="tab('plan')">ğŸ¯</div>
        <div class="nav-btn" onclick="tab('musik')">ğŸµ</div>
    </div>

    <div class="main">
        <div class="kertas">
            <div id="view-tulis">
                <h1 id="txt-sapa">Sapaan...</h1>
                <p class="sapaan-sub" id="txt-sub">Bagaimana harimu?</p>
                <div style="display:flex; gap:10px; margin-bottom:10px">
                    <button class="btn" style="padding:5px 15px; font-size:12px" onclick="setMood('ğŸ˜Š')">ğŸ˜Š Senang</button>
                    <button class="btn" style="padding:5px 15px; font-size:12px; background:#ddd; color:#666" onclick="setMood('ğŸ˜”')">ğŸ˜” Sedih</button>
                </div>
                <textarea id="isi-diary" class="area-tulis" placeholder="Tuliskan ceritamu..."></textarea>
                <div style="text-align:right; margin-top:15px">
                    <button class="btn" onclick="simpanDiary()">Simpan Kenangan ğŸ’–</button>
                </div>
            </div>

            <div id="view-rak" class="hidden">
                <h1>Rak Buku Kenangan</h1>
                <p class="sapaan-sub">Kumpulan memorimu di sini.</p>
                <div class="arsip-scroll" id="daftar-arsip"></div>
            </div>

            <div id="view-plan" class="hidden">
                <h1>My Future Plan ğŸš€</h1>
                <div class="grid-plan">
                    <div class="item-plan"><h4>ğŸ¯ Impian</h4><textarea placeholder="Tulis mimpimu..."></textarea></div>
                    <div class="item-plan"><h4>ğŸ“š Belajar</h4><textarea placeholder="Mau jago apa?"></textarea></div>
                    <div class="item-plan"><h4>ğŸŒ± Habit</h4><textarea placeholder="Hal baik..."></textarea></div>
                    <div class="item-plan"><h4>â­ Wishlist</h4><textarea placeholder="Daftar keinginan..."></textarea></div>
                </div>
            </div>

            <div id="view-musik" class="hidden">
                <h1>Musik Penenang ğŸµ</h1>
                <input type="text" id="url-musik" placeholder="Tempel link YouTube & Enter" style="width:100%; padding:12px; border-radius:12px; border:1px solid #eee; margin-top:15px; outline:none;">
                <div class="musik-box" id="display-musik">
                    <img src="https://img.freepik.com/free-vector/musical-notes-frame-with-text-space_23-2148525281.jpg" class="thumb-lagu">
                    <p style="color:#aaa; font-size:13px;">Masukkan link YouTube untuk memutar gambar & musik.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="watermark">A little space by Lyn ğŸ•Šï¸</div>

    <script>
        let moodSkrg = "ğŸ˜Š";
        
        function muatData() {
            // Sapaan Waktu
            const jam = new Date().getHours();
            const s = document.getElementById('txt-sapa'), ss = document.getElementById('txt-sub');
            if(jam < 11) { s.innerText="Pagi...."; ss.innerText="Ayo mulai harimu dengan tenang."; }
            else if(jam < 15) { s.innerText="Siang...."; ss.innerText="Istirahat sebentar, ceritakan harimu."; }
            else if(jam < 18) { s.innerText="Sore...."; ss.innerText="Langit mulai teduh, waktunya menulis."; }
            else { s.innerText="Malam...."; ss.innerText="Terima kasih sudah hebat hari ini."; }

            // Cek PIN
            if(localStorage.getItem('lynn_pin')) {
                document.getElementById('set-box').classList.add('hidden');
                document.getElementById('log-box').classList.remove('hidden');
            }
        }

        function simpanPIN() { const p = document.getElementById('pin1').value; if(p) { localStorage.setItem('lynn_pin', p); location.reload(); } }
        function buka() { if(document.getElementById('pin-log').value === localStorage.getItem('lynn_pin')) document.getElementById('layar-kunci').classList.add('hidden'); }
        function intip() { const x = document.getElementById('pin-log'); x.type = x.type === 'password' ? 'text' : 'password'; }

        function tab(t) {
            const ids = ['tulis', 'rak', 'plan', 'musik'];
            ids.forEach(id => document.getElementById('view-'+id).classList.add('hidden'));
            document.getElementById('view-'+t).classList.remove('hidden');
            if(t === 'rak') renderArsip();
        }

        function setMood(m) { moodSkrg = m; }

        function simpanDiary() {
            const isi = document.getElementById('isi-diary').value; if(!isi) return;
            let d = JSON.parse(localStorage.getItem('lynn_data') || '[]');
            d.unshift({ jam: new Date().toLocaleString('id-ID'), m: moodSkrg, c: isi });
            localStorage.setItem('lynn_data', JSON.stringify(d));
            document.getElementById('isi-diary').value = "";
            tab('rak');
        }

        function renderArsip() {
            const d = JSON.parse(localStorage.getItem('lynn_data') || '[]');
            document.getElementById('daftar-arsip').innerHTML = d.map(x => `
                <div class="kartu-diary">
                    <small><b>${x.jam} | ${x.m}</b></small>
                    <p style="font-family:'Indie Flower'; font-size:20px; margin-top:8px; white-space:pre-wrap;">${x.c}</p>
                </div>
            `).join('');
        }

        document.getElementById('url-musik').addEventListener('keypress', e => {
            if(e.key === 'Enter') {
                const url = e.target.value;
                let id = "";
                if(url.includes('v=')) id = url.split('v=')[1].split('&')[0];
                else if(url.includes('youtu.be/')) id = url.split('youtu.be/')[1];

                if(id) {
                    document.getElementById('display-musik').innerHTML = `
                        <img src="https://img.youtube.com/vi/${id}/mqdefault.jpg" class="thumb-lagu">
                        <iframe width="100%" height="150" src="https://www.youtube.com/embed/${id}?autoplay=1" frameborder="0" style="border-radius:15px;"></iframe>
                    `;
                }
                e.target.value = "";
            }
        });
    </script>
</body>
</html>
