<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Little Space by N4T3V</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Indie+Flower&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --sage: #94a187; --bg: #f5f5f1; --text: #5b564e; --paper: #fffef0; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Quicksand', sans-serif; background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* WATERMARK */
        .watermark { position: fixed; top: 10px; right: 10px; font-size: 10px; opacity: 0.4; letter-spacing: 1px; z-index: 1001; }

        /* SCREEN: LOGIN */
        #login-screen { position: fixed; inset: 0; background: var(--bg); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 2000; transition: 0.5s; }
        .login-box { background: white; padding: 30px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; width: 300px; }
        .pass-input { position: relative; margin: 20px 0; }
        input[type="password"], input[type="text"] { width: 100%; padding: 10px; border-radius: 10px; border: 1px solid #ddd; outline: none; }
        .toggle-pass { position: absolute; right: 10px; top: 10px; cursor: pointer; font-size: 14px; }
        .clue-text { font-size: 11px; color: var(--sage); margin-top: 10px; cursor: pointer; text-decoration: underline; }

        /* LAYOUT UTAMA */
        header { text-align: center; padding: 40px 0; }
        h1 { font-family: 'Dancing Script', cursive; font-size: 32px; color: var(--sage); }

        .container { max-width: 600px; margin: auto; padding: 20px; padding-bottom: 100px; }
        .tab-content { display: none; animation: fadeIn 0.4s ease; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* MENU: CATATAN DIARY */
        .welcome-msg { font-family: 'Dancing Script'; font-size: 24px; color: var(--sage); text-align: center; margin-bottom: 20px; }
        .mood-selector { display: flex; justify-content: space-around; margin-bottom: 20px; background: white; padding: 15px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.02); }
        .mood-item { text-align: center; cursor: pointer; filter: grayscale(1); transition: 0.3s; }
        .mood-item:hover, .mood-item.selected { filter: grayscale(0); transform: scale(1.1); }
        .mood-item span { display: block; font-size: 10px; margin-top: 5px; font-weight: bold; }

        .paper { background: var(--paper); background-image: linear-gradient(#e1e1e1 1px, transparent 1px); background-size: 100% 30px; padding: 30px 20px; border-radius: 5px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); min-height: 400px; line-height: 30px; font-family: 'Indie Flower', cursive; font-size: 18px; border: none; width: 100%; outline: none; resize: none; }

        /* MENU: RAK KENANGAN */
        .book-card { background: white; padding: 20px; border-radius: 20px; margin-bottom: 15px; border-left: 5px solid var(--sage); position: relative; }
        .book-time { font-size: 10px; font-weight: bold; color: var(--sage); margin-bottom: 10px; }
        .book-actions { display: flex; gap: 10px; margin-top: 10px; }
        .btn-action { font-size: 11px; font-weight: bold; cursor: pointer; color: var(--sage); background: none; border: none; }

        /* MENU: TARGET (STICKY NOTES) */
        .sticky-container { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .sticky-note { background: #fff9c4; padding: 15px; aspect-ratio: 1/1; box-shadow: 5px 5px 10px rgba(0,0,0,0.05); transform: rotate(-2deg); font-family: 'Indie Flower'; font-size: 16px; border: none; outline: none; resize: none; }
        .sticky-note:nth-child(even) { background: #c8e6c9; transform: rotate(2deg); }
        .quotes-box { text-align: center; margin-top: 40px; font-style: italic; font-size: 13px; color: var(--sage); padding: 20px; }

        /* NAVIGASI BAWAH */
        nav { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: white; padding: 10px 25px; border-radius: 50px; display: flex; gap: 35px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .nav-item { position: relative; cursor: pointer; font-size: 24px; display: flex; flex-direction: column; align-items: center; }
        .nav-item span { position: absolute; bottom: -20px; font-size: 10px; opacity: 0; transition: 0.3s; white-space: nowrap; font-weight: bold; }
        .nav-item:hover span { opacity: 1; bottom: 35px; }
    </style>
</head>
<body>

    <div class="watermark">A Little Space by N4T3V</div>

    <div id="login-screen">
        <div class="login-box">
            <h1>Unlock Space</h1>
            <div class="pass-input">
                <input type="password" id="passInput" placeholder="Sandi...">
                <span class="toggle-pass" onclick="togglePass()">üëÅÔ∏è</span>
            </div>
            <button class="btn-action" style="background:var(--sage); color:white; padding:10px 20px; border-radius:10px" onclick="checkPass()">Masuk</button>
            <p class="clue-text" onclick="alert('Clue: Nama panggilanku (4 huruf kecil)')">Lupa sandi?</p>
        </div>
    </div>

    <header>
        <h1>A Little Space</h1>
    </header>

    <div class="container">
        <section id="tab-write" class="tab-content active">
            <p class="welcome-msg" id="greeting"></p>
            <div class="mood-selector">
                <div class="mood-item" onclick="setMood('Senang', this)">üòä<span>Senang</span></div>
                <div class="mood-item" onclick="setMood('Sedih', this)">üò¢<span>Sedih</span></div>
                <div class="mood-item" onclick="setMood('Bad Mood', this)">üòí<span>Bad Mood</span></div>
                <div class="mood-item" onclick="setMood('Semangat', this)">üî•<span>Semangat</span></div>
            </div>
            <textarea id="diaryInput" class="paper" placeholder="Tuliskan ceritamu di sini..."></textarea>
            <button class="btn-action" style="width:100%; margin-top:20px; background:var(--sage); color:white; padding:15px; border-radius:50px" onclick="saveDiary()">Simpan Kenangan ‚ú®</button>
        </section>

        <section id="tab-shelf" class="tab-content">
            <div id="shelfList"></div>
        </section>

        <section id="tab-target" class="tab-content">
            <div class="sticky-container">
                <textarea class="sticky-note" placeholder="Plan 1..."></textarea>
                <textarea class="sticky-note" placeholder="Plan 2..."></textarea>
                <textarea class="sticky-note" placeholder="Plan 3..."></textarea>
                <textarea class="sticky-note" placeholder="Plan 4..."></textarea>
            </div>
            <div class="quotes-box" id="quote"></div>
        </section>
    </div>

    <nav>
        <div class="nav-item" onclick="showTab('tab-write')">üìù<span>Catatan Diary</span></div>
        <div class="nav-item" onclick="showTab('tab-shelf')">üìö<span>Rak Kenangan</span></div>
        <div class="nav-item" onclick="showTab('tab-target')">üéØ<span>Target</span></div>
    </nav>

    <script>
        let diaries = JSON.parse(localStorage.getItem('n4t3v_diary')) || [];
        let selectedMood = "Senang";

        // PASSWORD SYSTEM (Default: lyn)
        function checkPass() {
            const pass = document.getElementById('passInput').value;
            if(pass === "lyn") {
                document.getElementById('login-screen').style.display = 'none';
            } else {
                alert("Sandi salah!");
            }
        }

        function togglePass() {
            const inp = document.getElementById('passInput');
            inp.type = inp.type === 'password' ? 'text' : 'password';
        }

        // TAB SYSTEM
        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'tab-shelf') renderShelf();
            if(id === 'tab-target') updateQuote();
        }

        // MOOD & GREETING
        function setMood(mood, el) {
            document.querySelectorAll('.mood-item').forEach(m => m.classList.remove('selected'));
            el.classList.add('selected');
            selectedMood = mood;
        }

        const hours = new Date().getHours();
        const greet = hours < 11 ? "Pagi" : hours < 15 ? "Siang" : hours < 19 ? "Sore" : "Malam";
        document.getElementById('greeting').innerText = `Selamat ${greet}, nikmati harimu dengan menulis diary ‚ú®`;

        // SAVE & RENDER
        function saveDiary() {
            const text = document.getElementById('diaryInput').value;
            if(!text) return;
            const now = new Date();
            const entry = {
                id: Date.now(),
                date: now.toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' }),
                time: now.toLocaleTimeString('id-ID'),
                mood: selectedMood,
                content: text
            };
            diaries.unshift(entry);
            localStorage.setItem('n4t3v_diary', JSON.stringify(diaries));
            document.getElementById('diaryInput').value = '';
            alert("Kenangan tersimpan!");
        }

        function renderShelf() {
            const list = document.getElementById('shelfList');
            list.innerHTML = '';
            diaries.forEach((d, i) => {
                const div = document.createElement('div');
                div.className = 'book-card';
                div.innerHTML = `
                    <div class="book-time">${d.date} | ${d.time} | Mood: ${d.mood}</div>
                    <div style="font-family:'Indie Flower'; font-size:16px">${d.content}</div>
                    <div class="book-actions">
                        <button class="btn-action" onclick="editDiary(${i})">Edit</button>
                        <button class="btn-action" style="color:red" onclick="deleteDiary(${i})">Hapus</button>
                    </div>
                `;
                list.appendChild(div);
            });
        }

        function editDiary(i) {
            const newText = prompt("Ubah kenanganmu:", diaries[i].content);
            if(newText) {
                diaries[i].content = newText;
                localStorage.setItem('n4t3v_diary', JSON.stringify(diaries));
                renderShelf();
            }
        }

        function deleteDiary(i) {
            if(confirm("Hapus kenangan ini?")) {
                diaries.splice(i, 1);
                localStorage.setItem('n4t3v_diary', JSON.stringify(diaries));
                renderShelf();
            }
        }

        function updateQuote() {
            const q = [
                "Jadilah versi terbaik dari dirimu sendiri.",
                "Hari yang cerah dimulai dari pikiran yang positif.",
                "Jangan berhenti sampai kamu bangga.",
                "Setiap hari adalah kesempatan baru."
            ];
            document.getElementById('quote').innerText = q[Math.floor(Math.random()*q.length)];
        }
    <script>
    let diaries = JSON.parse(localStorage.getItem('n4t3v_diary')) || [];
    let selectedMood = "Senang";
    
    // SISTEM PIN CUSTOM
    function checkPass() {
        const passInput = document.getElementById('passInput');
        const userPass = passInput.value;
        const savedPass = localStorage.getItem('n4t3v_pin');

        if (!savedPass) {
            // Jika belum ada PIN, maka input pertama akan jadi PIN baru
            if (userPass.length < 4) {
                alert("Buat PIN minimal 4 karakter ya!");
            } else {
                localStorage.setItem('n4t3v_pin', userPass);
                alert("PIN berhasil dibuat! Ingat baik-baik ya ‚ú®");
                document.getElementById('login-screen').style.display = 'none';
            }
        } else {
            // Jika sudah ada PIN, cek apakah inputnya sama
            if (userPass === savedPass) {
                document.getElementById('login-screen').style.display = 'none';
            } else {
                alert("PIN salah, Lyn! Coba diingat lagi atau cek clue.");
            }
        }
    }

    // Fungsi ganti clue (Bisa kamu edit manual di sini)
    const clueText = "Nama kesayangan atau tanggal lahirmu";

    function togglePass() {
        const inp = document.getElementById('passInput');
        inp.type = inp.type === 'password' ? 'text' : 'password';
    }

    // --- SISANYA TETAP SAMA ---
    function showTab(id) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'tab-shelf') renderShelf();
        if(id === 'tab-target') updateQuote();
    }

    function setMood(mood, el) {
        document.querySelectorAll('.mood-item').forEach(m => m.classList.remove('selected'));
        el.classList.add('selected');
        selectedMood = mood;
    }

    const hours = new Date().getHours();
    const greet = hours < 11 ? "Pagi" : hours < 15 ? "Siang" : hours < 19 ? "Sore" : "Malam";
    document.getElementById('greeting').innerText = `Selamat ${greet}, nikmati harimu dengan menulis diary ‚ú®`;

    function saveDiary() {
        const text = document.getElementById('diaryInput').value;
        if(!text) return;
        const now = new Date();
        const entry = {
            id: Date.now(),
            date: now.toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' }),
            time: now.toLocaleTimeString('id-ID'), // Simpan Jam:Menit:Detik
            mood: selectedMood,
            content: text
        };
        diaries.unshift(entry);
        localStorage.setItem('n4t3v_diary', JSON.stringify(diaries));
        document.getElementById('diaryInput').value = '';
        alert("Kenangan tersimpan!");
    }

    function renderShelf() {
        const list = document.getElementById('shelfList');
        list.innerHTML = '';
        diaries.forEach((d, i) => {
            const div = document.createElement('div');
            div.className = 'book-card';
            div.innerHTML = `
                <div class="book-time">${d.date} | ${d.time} | Mood: ${d.mood}</div>
                <div style="font-family:'Indie Flower'; font-size:16px">${d.content}</div>
                <div class="book-actions">
                    <button class="btn-action" onclick="editDiary(${i})">Edit</button>
                    <button class="btn-action" style="color:red" onclick="deleteDiary(${i})">Hapus</button>
                </div>
            `;
            list.appendChild(div);
        });
    }

    function editDiary(i) {
        const newText = prompt("Ubah kenanganmu:", diaries[i].content);
        if(newText) {
            diaries[i].content = newText;
            localStorage.setItem('n4t3v_diary', JSON.stringify(diaries));
            renderShelf();
        }
    }

    function deleteDiary(i) {
        if(confirm("Hapus kenangan ini?")) {
            diaries.splice(i, 1);
            localStorage.setItem('n4t3v_diary', JSON.stringify(diaries));
            renderShelf();
        }
    }

    function updateQuote() {
        const q = [
            "Jadilah versi terbaik dari dirimu sendiri.",
            "Hari yang cerah dimulai dari pikiran yang positif.",
            "Jangan berhenti sampai kamu bangga.",
            "Setiap hari adalah kesempatan baru.",
            "Lakukan hal kecil dengan cinta yang besar."
        ];
        document.getElementById('quote').innerText = q[Math.floor(Math.random()*q.length)];
    }
</script>
</body>
</html>
