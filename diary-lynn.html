<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Little Space by N4T3V</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Indie+Flower&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --sage: #94a187; --bg: #f5f5f1; --text: #5b564e; --paper: #fffef0; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Quicksand', sans-serif; background: var(--bg); color: var(--text); overflow-x: hidden; }

        .watermark { position: fixed; top: 15px; right: 15px; font-size: 10px; opacity: 0.4; letter-spacing: 1px; z-index: 1001; font-weight: bold; }

        /* LOGIN SCREEN */
        #login-screen { position: fixed; inset: 0; background: var(--bg); display: flex; align-items: center; justify-content: center; z-index: 2000; }
        .login-box { background: white; padding: 40px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; width: 320px; }
        .login-box h2 { font-family: 'Dancing Script'; margin-bottom: 20px; color: var(--sage); }
        .pass-input-container { position: relative; margin-bottom: 20px; }
        input[type="password"], input[type="text"] { width: 100%; padding: 12px; border-radius: 12px; border: 1.5px solid #eee; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--sage); }
        .toggle-eye { position: absolute; right: 12px; top: 12px; cursor: pointer; opacity: 0.6; }

        /* HEADER */
        header { text-align: center; padding: 50px 20px 20px; }
        h1 { font-family: 'Dancing Script', cursive; font-size: 35px; color: var(--sage); }

        /* CONTENT AREA */
        .container { max-width: 600px; margin: auto; padding: 20px 20px 120px; }
        .tab-content { display: none; animation: fadeIn 0.5s ease; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* CATATAN DIARY */
        .greet { font-family: 'Dancing Script'; font-size: 24px; color: var(--sage); text-align: center; margin-bottom: 15px; }
        .mood-box { display: flex; justify-content: space-around; background: white; padding: 15px; border-radius: 20px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.02); }
        .mood-item { text-align: center; cursor: pointer; filter: grayscale(1); transition: 0.3s; opacity: 0.6; }
        .mood-item.selected { filter: grayscale(0); opacity: 1; transform: scale(1.1); }
        .mood-item span { display: block; font-size: 10px; margin-top: 5px; font-weight: bold; }

        .paper-container { position: relative; background: var(--paper); border-radius: 5px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); padding: 40px 20px 20px; }
        .paper-lines { width: 100%; min-height: 400px; background: repeating-linear-gradient(transparent, transparent 29px, #e1e1e1 30px); border: none; outline: none; font-family: 'Indie Flower', cursive; font-size: 19px; line-height: 30px; resize: none; color: #444; }

        /* RAK KENANGAN */
        .memory-card { background: white; padding: 20px; border-radius: 20px; margin-bottom: 15px; border-left: 6px solid var(--sage); box-shadow: 0 5px 15px rgba(0,0,0,0.02); }
        .meta-data { font-size: 10px; font-weight: bold; color: var(--sage); margin-bottom: 8px; text-transform: uppercase; }
        .memory-text { font-family: 'Indie Flower'; font-size: 17px; line-height: 1.5; white-space: pre-wrap; }
        .card-btns { margin-top: 15px; display: flex; gap: 15px; }
        .card-btns button { background: none; border: none; color: var(--sage); font-weight: bold; font-size: 12px; cursor: pointer; }

        /* TARGET (STICKY NOTES) */
        .sticky-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .note { background: #fff9c4; padding: 20px; aspect-ratio: 1/1; box-shadow: 5px 5px 15px rgba(0,0,0,0.05); transform: rotate(-1deg); font-family: 'Indie Flower'; border: none; outline: none; resize: none; font-size: 17px; }
        .note:nth-child(even) { background: #cfd8dc; transform: rotate(2deg); }
        .quote-area { margin-top: 40px; text-align: center; font-style: italic; font-size: 13px; color: var(--sage); min-height: 40px; }

        /* NAVIGATION */
        nav { position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%); background: white; padding: 12px 30px; border-radius: 50px; display: flex; gap: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 1000; }
        .nav-btn { position: relative; cursor: pointer; font-size: 24px; transition: 0.3s; }
        .nav-btn .label { position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%); background: var(--sage); color: white; padding: 4px 10px; border-radius: 10px; font-size: 10px; opacity: 0; pointer-events: none; transition: 0.3s; white-space: nowrap; }
        .nav-btn:hover .label { opacity: 1; bottom: 45px; }
        .nav-btn:hover { transform: translateY(-5px); }

        .btn-main { background: var(--sage); color: white; border: none; padding: 15px; border-radius: 50px; width: 100%; margin-top: 20px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-main:hover { opacity: 0.9; }
    </style>
</head>
<body>

    <div class="watermark">A Little Space by N4T3V</div>

    <div id="login-screen">
        <div class="login-box">
            <h2>Welcome Back</h2>
            <div class="pass-input-container">
                <input type="password" id="passInput" placeholder="Masukkan PIN...">
                <span class="toggle-eye" onclick="toggleView()">üëÅÔ∏è</span>
            </div>
            <button class="btn-main" onclick="handleLogin()">Masuk</button>
            <p id="clue-btn" style="font-size: 11px; margin-top: 15px; cursor: pointer; text-decoration: underline;" onclick="showClue()">Lupa PIN?</p>
        </div>
    </div>

    <header>
        <h1>A Little Space by N4T3V</h1>
    </header>

    <div class="container">
        <section id="diary" class="tab-content active">
            <p class="greet" id="greetText"></p>
            <div class="mood-box">
                <div class="mood-item selected" onclick="pickMood('Senang', this)">üòä<span>Senang</span></div>
                <div class="mood-item" onclick="pickMood('Sedih', this)">üò¢<span>Sedih</span></div>
                <div class="mood-item" onclick="pickMood('Bad Mood', this)">üòí<span>Bad Mood</span></div>
                <div class="mood-item" onclick="pickMood('Semangat', this)">üî•<span>Semangat</span></div>
            </div>
            <div class="paper-container">
                <textarea id="diaryEntry" class="paper-lines" placeholder="Tuliskan hari-harimu di sini..."></textarea>
            </div>
            <button class="btn-main" onclick="saveToMemories()">Simpan ke Rak Kenangan ‚ú®</button>
        </section>

        <section id="memories" class="tab-content">
            <div id="memoryList"></div>
        </section>

        <section id="targets" class="tab-content">
            <div class="sticky-grid">
                <textarea class="note" placeholder="üí´ Small Wins Today...">üìå </textarea>
                <textarea class="note" placeholder="üí´ Gentle Reminders...">üìå </textarea>
                <textarea class="note" placeholder="üí´ Future Dreams...">üìå </textarea>
                <textarea class="note" placeholder="üí´ Self Care Plan...">üìå </textarea>
            </div>
            <div class="quote-area" id="quoteText"></div>
        </section>
    </div>

    <nav>
        <div class="nav-btn" onclick="openTab('diary')">üìù<div class="label">Catatan Diary</div></div>
        <div class="nav-btn" onclick="openTab('memories')">üìö<div class="label">Rak Kenangan</div></div>
        <div class="nav-btn" onclick="openTab('targets')">üéØ<div class="label">Target</div></div>
    </nav>

    <script>
        let db = JSON.parse(localStorage.getItem('n4t3v_storage')) || [];
        let currentMood = "Senang";

        // PIN SYSTEM
        function handleLogin() {
            const inp = document.getElementById('passInput').value;
            const savedPin = localStorage.getItem('n4t3v_pin');

            if (!savedPin) {
                if (inp.length < 4) return alert("Buat PIN minimal 4 angka/huruf!");
                localStorage.setItem('n4t3v_pin', inp);
                alert("PIN Berhasil dibuat! ‚ú®");
                document.getElementById('login-screen').style.display = 'none';
            } else {
                if (inp === savedPin) {
                    document.getElementById('login-screen').style.display = 'none';
                } else {
                    alert("PIN salah, Lyn!");
                }
            }
        }

        function toggleView() {
            const p = document.getElementById('passInput');
            p.type = p.type === 'password' ? 'text' : 'password';
        }

        function showClue() {
            alert("Clue: PIN yang kamu buat pertama kali (Cek di ingatanmu!)");
        }

        // NAVIGATION
        function openTab(id) {
            document.querySelectorAll('.tab-content').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'memories') renderMemories();
            if(id === 'targets') showNewQuote();
        }

        // DIARY LOGIC
        function pickMood(m, el) {
            document.querySelectorAll('.mood-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            currentMood = m;
        }

        const hrs = new Date().getHours();
        const msg = hrs < 11 ? "Pagi" : hrs < 15 ? "Siang" : hrs < 19 ? "Sore" : "Malam";
        document.getElementById('greetText').innerText = `Selamat ${msg}, nikmati hari-harimu dengan menulis diary ‚ú®`;

        function saveToMemories() {
            const txt = document.getElementById('diaryEntry').value;
            if(!txt) return alert("Kertasnya masih kosong, Lyn...");
            
            const now = new Date();
            const entry = {
                id: Date.now(),
                date: now.toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' }),
                time: now.toLocaleTimeString('id-ID'),
                mood: currentMood,
                content: txt
            };

            db.unshift(entry);
            localStorage.setItem('n4t3v_storage', JSON.stringify(db));
            document.getElementById('diaryEntry').value = '';
            alert("Berhasil disimpan di Rak Kenangan! üåø");
        }

        function renderMemories() {
            const container = document.getElementById('memoryList');
            container.innerHTML = db.length === 0 ? '<p style="text-align:center; opacity:0.5;">Belum ada kenangan yang disimpan.</p>' : '';
            
            db.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.innerHTML = `
                    <div class="meta-data">${item.date} | ${item.time} | Mood: ${item.mood}</div>
                    <div class="memory-text">${item.content}</div>
                    <div class="card-btns">
                        <button onclick="editMemory(${index})">Edit</button>
                        <button style="color:#e57373" onclick="deleteMemory(${index})">Hapus</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function editMemory(i) {
            const update = prompt("Edit kenanganmu (tanggal tetap sama):", db[i].content);
            if(update) {
                db[i].content = update;
                localStorage.setItem('n4t3v_storage', JSON.stringify(db));
                renderMemories();
            }
        }

        function deleteMemory(i) {
            if(confirm("Hapus kenangan ini?")) {
                db.splice(i, 1);
                localStorage.setItem('n4t3v_storage', JSON.stringify(db));
                renderMemories();
            }
        }

        function showNewQuote() {
            const quotes = [
                "\"Lakukan hal kecil dengan cinta yang besar.\"",
                "\"Setiap hari adalah kesempatan untuk menulis cerita baru.\"",
                "\"Jadilah alasan seseorang tersenyum hari ini.\"",
                "\"Istirahatlah jika lelah, tapi jangan menyerah.\""
            ];
            document.getElementById('quoteText').innerText = quotes[Math.floor(Math.random()*quotes.length)];
        }
    </script>
</body>
</html>
